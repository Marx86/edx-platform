<%!
from django.utils.translation import ugettext as _

from openedx.features.enterprise_support.utils import get_enterprise_learner_generic_name
%>
<%!
from django.utils.translation import ugettext as _
%>
<%
roll = _('Superuser') if user.is_superuser else _('Teacher')
%>
%if user.is_superuser or user.is_staff and hasattr(user, 'instructorprofile'):
${_("Students Progress for {roll} '{username}'").format(roll=roll, username=user.username)}
%endif

%for lesson_report in lesson_reports:
%for user_data in lesson_report.get('report_data'):

${_("Student name")}: ${ user_data['full_name'] }
${_("Activity report for lesson")}: ${ lesson_report['course_name'] }
${_("Lesson completed")}: ${'Yes' if user_data['completion'] == 1 else 'No'}
${_("Number of question completed from first attempt")}: ${ user_data['percent'] }% (${user_data['count_answer_first_attempt']} out of ${len(user_data['questions'])})

    %for question_name, question_count_answer, done in user_data['questions']:
    ${_("Question")} ${loop.index + 1}: ${ question_name }
        %if question_count_answer == 1:
        ${ ('First attempt') }
        %else:
        ${ question_count_answer } ${ _("attempts") }
        %endif
    %endfor
%endfor

Report Link:
${ lesson_report['report_url'] }
%endfor
